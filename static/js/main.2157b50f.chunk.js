(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(50)},49:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(21),i=t.n(c),l=t(2),s=t(3),o=t(6),u=t(4),m=t(7),d="https://orion.apiseeds.com/api/music/lyric/",p="NwvEEhvTSAjQ5YEndl9ylxZ6OH90YtNtcDsrMWU3vShjz1dsY948lmjdvlbAQv8h",h=t(9),k=t.n(h),b=t(10),E=t.n(b),f=t(8),g=t.n(f),v=t(5),y=t.n(v),x=t(22),N=t.n(x);var S=function(e){return n.a.createElement("button",{tabIndex:e.tabIndex,className:"quickScrollUp",onClick:function(){y()(document.querySelector(".".concat(e.locationClass)))}}," ",e.showText)},I=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this))).renderLyrics=function(){var a=e.state.lyrics.map(function(e,a){return n.a.createElement("p",{key:a},e," \u266a")});return n.a.createElement("div",{tabIndex:"80",className:"lyricsWrapper wrapper"},n.a.createElement("h3",{className:"lyricsTrackName"},e.props.track),a,n.a.createElement(S,{tabIndex:"81",locationClass:"trackResultWrapper",showText:"Back to search results"}))},e.renderLoading=function(){return n.a.createElement("div",{className:"loadingLyrics wrapper"},n.a.createElement("h3",{tabIndex:"5"},"Please ",n.a.createElement("span",null,"double click")," on the song's name to check its lyrics after search results show on the page ",n.a.createElement("span",null,"\u266c")))},e.state={lyrics:[]},e}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this;this.props.artist===e.artist&&this.props.track===e.track||E()({url:"https://proxy.hackeryou.com",dataResponse:"json",paramsSerializer:function(e){return k.a.stringify(e,{arrayFormat:"brackets"})},params:{reqUrl:"".concat(d).concat(this.props.artist,"/").concat(this.props.track),params:{apikey:p},xmlToJSON:!1}}).then(function(e){if(e.data.result.track.name===t.props.track){t.setState({lyrics:e.data.result.track.text.split("\n")});y()(document.querySelector(".lyricsWrapper"),{speed:1500,minDuration:1200})}}).catch(function(e){g.a.fire({title:"Sorry",text:"We do not have the lyrics of the song\ud83d\ude13",background:"#1a3543",confirmButtonText:"Fine",confirmButtonColor:"#7a9aaa"})})}},{key:"render",value:function(){return n.a.createElement("div",{className:"lyricsResultWrapper"},this.state.lyrics.length>0?this.renderLyrics():this.renderLoading())}}]),a}(r.Component);var w=function(){return n.a.createElement("div",{"aira-hidden":"true",className:"rellaxWrapper"},n.a.createElement("div",{"aria-hidden":"true",className:"musicSign musicSign1 rellax","data-rellax-speed":"1"},"\u266b"),n.a.createElement("div",{"aria-hidden":"true",className:"musicSign musicSign2 rellax","data-rellax-speed":"3"},"\u2669"),n.a.createElement("div",{"aria-hidden":"true",className:"musicSign musicSign3 rellax","data-rellax-speed":"3"},"\u266c"),n.a.createElement("div",{"aria-hidden":"true",className:"musicSign musicSign4 rellax","data-rellax-speed":"3"},"\u266a"),n.a.createElement("div",{"aria-hidden":"true",className:"musicSign musicSign5 rellax","data-rellax-speed":"1"},"\u266a"),n.a.createElement("div",{"aria-hidden":"true",className:"musicSign musicSign6 rellax","data-rellax-speed":"2.5"},"\u266b"))},C=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this))).handleInputChange=function(a){e.setState({inputPlaceholder:a.target.value})},e.handleInputClick=function(){e.setState({inputPlaceholder:""})},e.handleFormSubmit=function(a){if(a.preventDefault(),""!==e.state.inputPlaceholder&&!1===/^\s*$/.test(e.state.inputPlaceholder)){e.setState({inputString:e.state.inputPlaceholder,inputPlaceholder:""});y()(document.querySelector(".trackResultWrapper"),{speed:2e3,minDuration:1600})}else g.a.fire({title:"Input Error!",text:"Please check your input",background:"#1a3543",confirmButtonText:"Cool",confirmButtonColor:"#7a9aaa"})},e.renderLoadingPage=function(){return n.a.createElement("div",{className:"loadingTracks wrapper"},n.a.createElement("h3",{tabIndex:"4"},"Please ",n.a.createElement("span",null,"type in")," track or artist name to search ",n.a.createElement("span",null,"\u266b")))},e.displayTracks=function(){var a=[];return e.state.backMusicData.forEach(function(t,r){void 0!==t.trackViewUrl?a.push(n.a.createElement("div",{key:r,className:"singleTrack"},n.a.createElement("div",{className:"imgWrapper"},n.a.createElement("a",{tabIndex:6+3*r+1,target:"_blank",href:t.trackViewUrl,"aira-label":"go to track's Itunes page"},n.a.createElement("img",{src:t.artworkUrl100,alt:"picture of the album "+t.collectionCensoredName}))),n.a.createElement("div",{className:"trackInfo"},n.a.createElement("p",{tabIndex:6+3*r+2},t.artistName),n.a.createElement("p",{tabIndex:6+3*r+3,className:"trackName","data-artist":t.artistName,"data-track":t.trackName,onDoubleClick:e.handleDbClick},t.trackName)))):a.push(n.a.createElement("div",{key:r,className:"singleTrack"},n.a.createElement("div",{className:"imgWrapper"},n.a.createElement("a",{tabIndex:6+3*r+1,target:"_blank",href:t.collectionViewUrl,"aira-label":"go to track's Itunes page"},n.a.createElement("img",{src:t.artworkUrl100,alt:"picture of the album "+t.collectionCensoredName}))),n.a.createElement("div",{className:"trackInfo"},n.a.createElement("p",{tabIndex:6+3*r+2},t.artistName),n.a.createElement("p",{tabIndex:6+3*r+3,className:"trackName","data-artist":t.artistName,"data-track":t.trackName,onDoubleClick:e.handleDbClick},t.trackName))))}),n.a.createElement("div",{className:"tracksWrapper wrapper"},n.a.createElement("h3",{tabIndex:"6"},"Results"),n.a.createElement("div",{className:"tracks"},a),n.a.createElement(S,{tabIndex:"79",locationClass:"header",showText:"Search another song"}))},e.handleDbClick=function(a){e.setState({trackUserChoice:a.target.dataset.track,artistUserChoice:a.target.dataset.artist})},e.state={backMusicData:[],inputPlaceholder:"",inputString:"",trackUserChoice:"",artistUserChoice:""},e}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){new N.a(".rellax")}},{key:"componentDidUpdate",value:function(e,a){var t=this;this.state.inputString!==a.inputString&&E()({method:"GET",url:"https://proxy.hackeryou.com",dataResponse:"json",paramsSerializer:function(e){return k.a.stringify(e,{arrayFormat:"brackets"})},params:{reqUrl:"https://itunes.apple.com/search",params:{term:this.state.inputString,country:"ca",media:"music",limit:"25",lang:"en_us",entity:"musicTrack"},xmlToJSON:!1}}).then(function(e){console.log(e),t.setState({backMusicData:e.data.results})}).catch(function(e){console.log(e),g.a.fire({title:"Sorry",text:"We cannot find your song now\ud83d\ude22",background:"#1a3543",confirmButtonText:"OK",confirmButtonColor:"#7a9aaa"})})}},{key:"render",value:function(){return n.a.createElement(r.Fragment,null,n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"headerWrapper wrapper"},n.a.createElement(w,null),n.a.createElement("h1",{tabIndex:"1"},"Melodies & Words"),n.a.createElement("form",{action:"",onSubmit:this.handleFormSubmit},n.a.createElement("label",{"aria-hidden":"true",tabIndex:"2",htmlFor:"track",className:"visuallyHidden"}),n.a.createElement("input",{"aria-hidden":"true",tabIndex:"3","aria-live":"polite",role:"status",onChange:this.handleInputChange,type:"text",id:"trackInput",value:this.state.inputPlaceholder,placeholder:"type in the track name",onClick:this.handleInputClick}),n.a.createElement("button",{className:"submitSearch"},"Find it")))),n.a.createElement("main",null,n.a.createElement("div",{className:"trackResultWrapper"},this.state.backMusicData.length>0?this.displayTracks():this.renderLoadingPage()),n.a.createElement(I,{track:this.state.trackUserChoice,artist:this.state.artistUserChoice})))}}]),a}(r.Component);var j=function(){return n.a.createElement("footer",null,n.a.createElement("p",{tabIndex:"82"},"Powered! by ",n.a.createElement("a",{target:"_blank",href:"https://affiliate.itunes.apple.com/resources/documentation/itunes-store-web-service-search-api/"},"Itunes API")," & ",n.a.createElement("a",{target:"_blank",href:"https://apiseeds.com/"},"Apiseeds API")),n.a.createElement("p",{tabIndex:"83"},"\xa9Frankie Wang"))},O=(t(49),function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(C,null),n.a.createElement(j,null))}}]),a}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.2157b50f.chunk.js.map